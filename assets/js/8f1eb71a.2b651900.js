"use strict";(self.webpackChunk_git_filesystem_website=self.webpackChunk_git_filesystem_website||[]).push([[47],{4029:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>n,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var s=i(5893),o=i(1151);const r={title:"Client",sidebar_position:2},n=void 0,l={id:"typescript/usage/client",title:"Client",description:"Once you have a client from a client factory,",source:"@site/docs/typescript/usage/client.mdx",sourceDirName:"typescript/usage",slug:"/typescript/usage/client",permalink:"/docs/typescript/usage/client",draft:!1,unlisted:!1,editUrl:"https://github.com/git-filesystem/git-filesystem/tree/main/docs/typescript/usage/client.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Client",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Client Factory",permalink:"/docs/typescript/usage/client-factory"},next:{title:"Repository",permalink:"/docs/typescript/usage/repository"}},c={},d=[{value:"<code>createRepository()</code>",id:"createrepository",level:3},{value:"Throws:",id:"throws",level:4},{value:"<code>getAllRepositories()</code>",id:"getallrepositories",level:3},{value:"<code>getRepository()</code>",id:"getrepository",level:3},{value:"<code>getReadOnlyRepository()</code>",id:"getreadonlyrepository",level:3},{value:"<code>deleteRepository()</code>",id:"deleterepository",level:3},{value:"<code>doesRepositoryExist()</code>",id:"doesrepositoryexist",level:3}];function a(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Once you have a client from a ",(0,s.jsx)(t.a,{href:"./client-factory",children:"client factory"}),",\nyou can query the provider/user combination for repositories they have access to."]}),"\n",(0,s.jsx)(t.h3,{id:"createrepository",children:(0,s.jsx)(t.code,{children:"createRepository()"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"createRepository"})," method has the following TypeScript signature:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"client.createRepository(name: string, isPrivate: boolean, description: string): Promise<Repository>;\n"})}),"\n",(0,s.jsx)(t.p,{children:"How and where the description is used varies between providers."}),"\n",(0,s.jsx)(t.h4,{id:"throws",children:"Throws:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"RepositoryAlreadyExistsError"}),": If a repository already exists with the given name."]}),"\n"]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h3,{id:"getallrepositories",children:(0,s.jsx)(t.code,{children:"getAllRepositories()"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"getAllRepositories"})," method returns a list of repositories that the previously supplied access token can access."]}),"\n",(0,s.jsx)(t.p,{children:"Note that sorting and the maximum number of results may vary between providers.\nFor example, the GitHub implementation is limited to 100 repositories and is sorted by how recently the repositories have been pushed to."}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h3,{id:"getrepository",children:(0,s.jsx)(t.code,{children:"getRepository()"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"getRepository"})," method returns a ",(0,s.jsx)(t.a,{href:"./repository",children:(0,s.jsx)(t.code,{children:"Repository"})})," instance that can be used to read & write to the files and tags within it."]}),"\n",(0,s.jsx)(t.p,{children:"This method has the following two TypeScript signatures:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"client.getRepository(name: string): Repository;\nclient.getRepository(name: string, owner: string): Repository;\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["When using the ",(0,s.jsx)(t.code,{children:"owner"})," parameter it's important to remember that the previously supplied access token needs to at least have read permissions for the repository."]})}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h3,{id:"getreadonlyrepository",children:(0,s.jsx)(t.code,{children:"getReadOnlyRepository()"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"getReadOnlyRepository"})," method functions exactly the same as the ",(0,s.jsx)(t.a,{href:"#getRepository",children:(0,s.jsx)(t.code,{children:"getRepository"})})," method above,\nhowever the returned type only allows you to read files from either the HEAD or from a tag.\nThis is useful when you know you're dealing with an immuatable repository, for instance repositories on GitHub that are archived."]}),"\n",(0,s.jsx)(t.p,{children:"This method has the following two TypeScript signatures:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"client.getReadonlyRepository(name: string): ReadonlyRepository;\nclient.getReadonlyRepository(name: string, owner: string): ReadonlyRepository;\n"})}),"\n",(0,s.jsxs)(t.p,{children:["You can pass in a value for the ",(0,s.jsx)(t.code,{children:"owner"})," parameter to get a repository that belongs to a different account or organisation."]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h3,{id:"deleterepository",children:(0,s.jsx)(t.code,{children:"deleteRepository()"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"deleteRepository"})," method can be used to ",(0,s.jsx)(t.strong,{children:"permanently"})," delete a repository and all of the content within it."]}),"\n",(0,s.jsx)(t.p,{children:"It has the following TypeScript sigature:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"client.deleteRepository(name: string): Promise<void>;\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"danger",children:(0,s.jsx)(t.p,{children:"Be careful with this method, calling it will result in the loss of data."})}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h3,{id:"doesrepositoryexist",children:(0,s.jsx)(t.code,{children:"doesRepositoryExist()"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"doesRepositoryExist"})," method can be used to check is a repository exists with the given name."]}),"\n",(0,s.jsx)(t.p,{children:"This method has the following TypeScript signature:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"client.doesRepositoryExist(name: string): Promise<RepositoryExistence>;\n"})}),"\n",(0,s.jsx)(t.p,{children:"The return value will be one of the following string literals:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:'"DoesNotExist"'})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:'"Exists"'})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:'"IsArchived"'})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,t,i)=>{i.d(t,{Z:()=>l,a:()=>n});var s=i(7294);const o={},r=s.createContext(o);function n(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:n(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);